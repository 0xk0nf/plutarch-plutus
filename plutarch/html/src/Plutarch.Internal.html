<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RoleAnnotations #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.Internal</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>  </span><span class="annot"><span class="hs-comment">-- | $hoisted</span></span><span>
</span><span id="line-5"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator">(:--&gt;)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#PLam"><span class="hs-identifier">PLam</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#PDelayed"><span class="hs-identifier">PDelayed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><span class="hs-comment">-- | $term</span></span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#asClosedRawTerm"><span class="hs-identifier">asClosedRawTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier">mapTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#plam%27"><span class="hs-identifier">plam'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#plet"><span class="hs-identifier">plet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#papp"><span class="hs-identifier">papp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#pdelay"><span class="hs-identifier">pdelay</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#pforce"><span class="hs-identifier">pforce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier">phoistAcyclic</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#perror"><span class="hs-identifier">perror</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier">punsafeCoerce</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#punsafeBuiltin"><span class="hs-identifier">punsafeBuiltin</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#punsafeConstant"><span class="hs-identifier">punsafeConstant</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier">punsafeConstantInternal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#compile"><span class="hs-identifier">compile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#compile%27"><span class="hs-identifier">compile'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier">ClosedTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier">Dig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#hashTerm"><span class="hs-identifier">hashTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier">hashRawTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier">RawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier">TermResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier">getDeps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier">getTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier">S</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#SI"><span class="hs-identifier">SI</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier">PType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#pthrow"><span class="hs-identifier">pthrow</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#TracingMode"><span class="hs-identifier">TracingMode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#defaultConfig"><span class="hs-identifier">defaultConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#pgetConfig"><span class="hs-identifier">pgetConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">ReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">ReaderT</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">ask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">runReaderT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Crypto.Hash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Context</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Digest</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">hashFinalize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">hashInit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">hashUpdate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Crypto.Hash.Algorithms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Blake2b_160</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">Crypto.Hash.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier">HashAlgorithm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">Data.Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator">(&lt;&amp;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">groupBy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">sortOn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">Data.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">fromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier">Flat.Run</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">callStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">prettyCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">GHC.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Evaluate.html"><span class="hs-identifier">Plutarch.Evaluate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Evaluate.html#evalScript"><span class="hs-identifier">evalScript</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">PlutusCore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier">Some</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">ValueOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">ValueOf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">PlutusCore</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">PlutusCore.DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">DeBruijn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">Index</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">Index</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">PlutusLedgerApi.V1.Scripts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Script</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier">UntypedPlutusCore</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UPLC</span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">{- $hoisted
 __Explanation for hoisted terms:__
 Hoisting is a convenient way of importing terms without duplicating them
 across your tree. Currently, hoisting is only supported on terms that do
 not refer to any free variables.

 An RHoisted contains a term and its hash. A RawTerm will have a DAG
 of hoisted terms, where an edge represents a dependency.
 We topologically sort these hoisted terms, such that each has an index.

 We wrap our RawTerm in RLamAbs and RApply in an order corresponding to the
 indices. Each level can refer to levels above it by the nature of De Bruijn naming,
 though the name is relative to the current level.
-}</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">type</span><span> </span><span id="Dig"><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-var">Dig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-type">Digest</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-type">Blake2b_160</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">data</span><span> </span><span id="HoistedTerm"><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HoistedTerm"><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679261111"><span id="local-6989586621679261113"><span id="local-6989586621679261120"><span class="annot"><span class="annottext">Int -&gt; HoistedTerm -&gt; ShowS
[HoistedTerm] -&gt; ShowS
HoistedTerm -&gt; String
(Int -&gt; HoistedTerm -&gt; ShowS)
-&gt; (HoistedTerm -&gt; String)
-&gt; ([HoistedTerm] -&gt; ShowS)
-&gt; Show HoistedTerm
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [HoistedTerm] -&gt; ShowS
$cshowList :: [HoistedTerm] -&gt; ShowS
show :: HoistedTerm -&gt; String
$cshow :: HoistedTerm -&gt; String
showsPrec :: Int -&gt; HoistedTerm -&gt; ShowS
$cshowsPrec :: Int -&gt; HoistedTerm -&gt; ShowS
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">type</span><span> </span><span id="UTerm"><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-var">UTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Term</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="RawTerm"><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-var">RawTerm</span></a></span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="RVar"><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-var">RVar</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RLamAbs"><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-var">RLamAbs</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RApply"><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RForce"><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-var">RForce</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RDelay"><span class="annot"><a href="Plutarch.Internal.html#RDelay"><span class="hs-identifier hs-var">RDelay</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RConstant"><span class="annot"><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PLC.DefaultUni</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RBuiltin"><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-var">RBuiltin</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PLC.DefaultFun</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RCompiled"><span class="annot"><a href="Plutarch.Internal.html#RCompiled"><span class="hs-identifier hs-var">RCompiled</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RError"><span class="annot"><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RHoisted"><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679261063"><span id="local-6989586621679261065"><span id="local-6989586621679261098"><span class="annot"><span class="annottext">Int -&gt; RawTerm -&gt; ShowS
[RawTerm] -&gt; ShowS
RawTerm -&gt; String
(Int -&gt; RawTerm -&gt; ShowS)
-&gt; (RawTerm -&gt; String) -&gt; ([RawTerm] -&gt; ShowS) -&gt; Show RawTerm
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RawTerm] -&gt; ShowS
$cshowList :: [RawTerm] -&gt; ShowS
show :: RawTerm -&gt; String
$cshow :: RawTerm -&gt; String
showsPrec :: Int -&gt; RawTerm -&gt; ShowS
$cshowsPrec :: Int -&gt; RawTerm -&gt; ShowS
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span id="local-6989586621679261528"><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-type">hashRawTerm'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-type">HashAlgorithm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261528"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-type">Context</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261528"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-type">Context</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261528"><span class="hs-identifier hs-type">alg</span></a></span></span><span>
</span><span id="line-98"></span><span id="hashRawTerm%27"><span class="annot"><span class="annottext">hashRawTerm' :: forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var hs-var">hashRawTerm'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679260866"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260866"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;0&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-var">F.flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260866"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679260862"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260862"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679260861"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260861"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;1&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-var">F.flat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260862"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-bignum-1.2/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260861"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-101"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679260860"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260860"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679260859"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260859"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>  </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;2&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260860"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; [RawTerm] -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg -&gt; [RawTerm] -&gt; Context alg
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">((Context alg -&gt; RawTerm -&gt; Context alg)
 -&gt; Context alg -&gt; [RawTerm] -&gt; Context alg)
-&gt; (Context alg -&gt; RawTerm -&gt; Context alg)
-&gt; Context alg
-&gt; [RawTerm]
-&gt; Context alg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Context alg -&gt; Context alg)
-&gt; Context alg -&gt; RawTerm -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260859"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-103"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span id="local-6989586621679260858"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260858"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;3&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260858"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-104"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679260857"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260857"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;4&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context alg -&gt; Context alg
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260857"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-105"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span id="local-6989586621679260856"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260856"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;5&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-var">F.flat</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260856"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span id="local-6989586621679260855"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260855"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;6&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefaultFun -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-var">F.flat</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260855"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;7&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260854"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260854"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;8&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Dig -&gt; Context alg)
-&gt; Dig -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; Dig -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260854"><span class="hs-identifier hs-var">hash</span></a></span><span>
</span><span id="line-109"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RCompiled"><span class="hs-identifier hs-type">RCompiled</span></a></span><span> </span><span id="local-6989586621679260853"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260853"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;9&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/bytestring-0.11.3.1/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; Context alg)
-&gt; (Context alg -&gt; Context alg) -&gt; Context alg -&gt; Context alg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Context alg -&gt; ByteString -&gt; Context alg)
-&gt; ByteString -&gt; Context alg -&gt; Context alg
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Context alg -&gt; ByteString -&gt; Context alg
forall ba a.
(ByteArrayAccess ba, HashAlgorithm a) =&gt;
Context a -&gt; ba -&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTerm -&gt; ByteString
forall a. Flat a =&gt; a -&gt; ByteString
</span><a href="../file:///nix/store/qa00xsza4hbza5frym8f5k939xmsm4k0-flat-lib-flat-0.4.5-haddock-doc/share/doc/flat/html/src"><span class="hs-identifier hs-var">F.flat</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260853"><span class="hs-identifier hs-var">code</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier hs-type">hashRawTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span>
</span><span id="line-112"></span><span id="hashRawTerm"><span class="annot"><span class="annottext">hashRawTerm :: RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier hs-var hs-var">hashRawTerm</span></a></span></span><span> </span><span id="local-6989586621679260852"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260852"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Context Blake2b_160 -&gt; Dig
forall a. HashAlgorithm a =&gt; Context a -&gt; Digest a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashFinalize</span></a></span><span> </span><span class="annot"><span class="annottext">(Context Blake2b_160 -&gt; Dig)
-&gt; (Context Blake2b_160 -&gt; Context Blake2b_160)
-&gt; Context Blake2b_160
-&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Context Blake2b_160 -&gt; Context Blake2b_160
forall alg.
HashAlgorithm alg =&gt;
RawTerm -&gt; Context alg -&gt; Context alg
</span><a href="Plutarch.Internal.html#hashRawTerm%27"><span class="hs-identifier hs-var">hashRawTerm'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260852"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">(Context Blake2b_160 -&gt; Dig) -&gt; Context Blake2b_160 -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Context Blake2b_160
forall a. HashAlgorithm a =&gt; Context a
</span><a href="../file:///nix/store/184axdwnh4r5hclai367i4cprhyfjjbf-cryptonite-lib-cryptonite-0.30-haddock-doc/share/doc/cryptonite/html/src"><span class="hs-identifier hs-var">hashInit</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">data</span><span> </span><span id="TermResult"><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TermResult"><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="getTerm"><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var hs-var">getTerm</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="getDeps"><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var hs-var">getDeps</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier hs-type">mapTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span>
</span><span id="line-120"></span><span id="mapTerm"><span class="annot"><span class="annottext">mapTerm :: (RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier hs-var hs-var">mapTerm</span></a></span></span><span> </span><span id="local-6989586621679260851"><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="#local-6989586621679260851"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span id="local-6989586621679260850"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260850"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679260849"><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679260849"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="#local-6989586621679260851"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260850"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679260849"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="annot"><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-type">mkTermRes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span>
</span><span id="line-123"></span><span id="mkTermRes"><span class="annot"><span class="annottext">mkTermRes :: RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var hs-var">mkTermRes</span></a></span></span><span> </span><span id="local-6989586621679260847"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260847"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260847"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">{- Type of `s` in `Term s a`. See: &quot;What is the `s`?&quot; section on the Plutarch guide.

`SI` is the identity type of kind `S`. It is used in type class/family instances
to &quot;forget&quot; the `s`.
-}</span><span>
</span><span id="line-130"></span><span class="hs-keyword">data</span><span> </span><span id="S"><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-var">S</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SI"><span class="annot"><a href="Plutarch.Internal.html#SI"><span class="hs-identifier hs-var">SI</span></a></span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Shorthand for Plutarch types.</span><span>
</span><span id="line-133"></span><span class="hs-keyword">type</span><span> </span><span id="PType"><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-var">PType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-keyword">data</span><span> </span><span id="Config"><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Config"><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-var">Config</span></a></span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="tracingMode"><span class="annot"><span class="annottext">Config -&gt; TracingMode
</span><a href="Plutarch.Internal.html#tracingMode"><span class="hs-identifier hs-var hs-var">tracingMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TracingMode"><span class="hs-identifier hs-type">TracingMode</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">data</span><span> </span><span id="TracingMode"><span class="annot"><a href="Plutarch.Internal.html#TracingMode"><span class="hs-identifier hs-var">TracingMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoTracing"><span class="annot"><a href="Plutarch.Internal.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="DoTracing"><span class="annot"><a href="Plutarch.Internal.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="DetTracing"><span class="annot"><a href="Plutarch.Internal.html#DetTracing"><span class="hs-identifier hs-var">DetTracing</span></a></span></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- Default is to be efficient</span><span>
</span><span id="line-142"></span><span class="annot"><a href="Plutarch.Internal.html#defaultConfig"><span class="hs-identifier hs-type">defaultConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-143"></span><span id="defaultConfig"><span class="annot"><span class="annottext">defaultConfig :: Config
</span><a href="Plutarch.Internal.html#defaultConfig"><span class="hs-identifier hs-var hs-var">defaultConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tracingMode :: TracingMode
</span><a href="Plutarch.Internal.html#tracingMode"><span class="hs-identifier hs-var">tracingMode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.html#NoTracing"><span class="hs-identifier hs-var">NoTracing</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">newtype</span><span> </span><span id="TermMonad"><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span></span><span> </span><span id="local-6989586621679261451"><span class="annot"><a href="#local-6989586621679261451"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TermMonad"><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span></span><span> </span><span class="hs-special">{</span><span id="runTermMonad"><span class="annot"><span class="annottext">forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.html#runTermMonad"><span class="hs-identifier hs-var hs-var">runTermMonad</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679261451"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260832"><span id="local-6989586621679260838"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b)
-&gt; (forall a b. a -&gt; TermMonad b -&gt; TermMonad a)
-&gt; Functor TermMonad
forall a b. a -&gt; TermMonad b -&gt; TermMonad a
forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall (f :: Type -&gt; Type).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; TermMonad b -&gt; TermMonad a
$c&lt;$ :: forall a b. a -&gt; TermMonad b -&gt; TermMonad a
fmap :: forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
$cfmap :: forall a b. (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260801"><span id="local-6989586621679260806"><span id="local-6989586621679260811"><span id="local-6989586621679260816"><span id="local-6989586621679260822"><span class="annot"><span class="annottext">Functor TermMonad
Functor TermMonad
-&gt; (forall a. a -&gt; TermMonad a)
-&gt; (forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a)
-&gt; Applicative TermMonad
forall a. a -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
forall (f :: Type -&gt; Type).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
&lt;* :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
$c&lt;* :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad a
*&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
$c*&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
liftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
$cliftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; TermMonad a -&gt; TermMonad b -&gt; TermMonad c
&lt;*&gt; :: forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
$c&lt;*&gt; :: forall a b. TermMonad (a -&gt; b) -&gt; TermMonad a -&gt; TermMonad b
pure :: forall a. a -&gt; TermMonad a
$cpure :: forall a. a -&gt; TermMonad a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260780"><span id="local-6989586621679260785"><span id="local-6989586621679260791"><span class="annot"><span class="annottext">Applicative TermMonad
Applicative TermMonad
-&gt; (forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b)
-&gt; (forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b)
-&gt; (forall a. a -&gt; TermMonad a)
-&gt; Monad TermMonad
forall a. a -&gt; TermMonad a
forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
forall (m :: Type -&gt; Type).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: forall a. a -&gt; TermMonad a
$creturn :: forall a. a -&gt; TermMonad a
&gt;&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
$c&gt;&gt; :: forall a b. TermMonad a -&gt; TermMonad b -&gt; TermMonad b
&gt;&gt;= :: forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
$c&gt;&gt;= :: forall a b. TermMonad a -&gt; (a -&gt; TermMonad b) -&gt; TermMonad b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">role</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">{- $term
 Source: Unembedding Domain-Specific Languages by Robert Atkey, Sam Lindley, Jeremy Yallop
 Thanks!
 NB: Hoisted terms must be sorted such that the dependents are first and dependencies last.

 s: This parameter isn't ever instantiated with something concrete. It is merely here
 to ensure that `compile` and `phoistAcyclic` only accept terms without any free variables.

 __Explanation of how the unembedding works:__
 Each term must be instantiated with its de-Bruijn level.
 `plam'`, given its own level, will create an `RVar` that figures out the
 de-Bruijn index needed to reach its own level given the level it itself is
 instantiated with.
-}</span><span>
</span><span id="line-167"></span><span class="hs-keyword">newtype</span><span> </span><span id="Term"><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679261395"><span class="annot"><a href="#local-6989586621679261395"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679261394"><span class="annot"><a href="#local-6989586621679261394"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Term"><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span class="hs-special">{</span><span id="asRawTerm"><span class="annot"><span class="annottext">forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var hs-var">asRawTerm</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">{- |
  *Closed* terms with no free variables.
-}</span><span>
</span><span id="line-172"></span><span class="hs-keyword">type</span><span> </span><span id="ClosedTerm"><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-var">ClosedTerm</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260771"><span class="annot"><a href="#local-6989586621679260771"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260770"><span class="annot"><a href="#local-6989586621679260770"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260770"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260771"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-keyword">data</span><span> </span><span id="%3A--%3E"><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-var">(:--&gt;)</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260769"><span class="annot"><a href="#local-6989586621679260769"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260768"><span class="annot"><a href="#local-6989586621679260768"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260767"><span class="annot"><a href="#local-6989586621679260767"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PLam"><span class="annot"><a href="Plutarch.Internal.html#PLam"><span class="hs-identifier hs-var">PLam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260767"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260769"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260767"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260768"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">0</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-keyword">data</span><span> </span><span id="PDelayed"><span class="annot"><a href="Plutarch.Internal.html#PDelayed"><span class="hs-identifier hs-var">PDelayed</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260766"><span class="annot"><a href="#local-6989586621679260766"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260765"><span class="annot"><a href="#local-6989586621679260765"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">{- |
  Lambda abstraction.

  Only works with a single argument.
  Use 'plam' instead, to support currying.
-}</span><span>
</span><span id="line-186"></span><span id="local-6989586621679261388"><span id="local-6989586621679261389"><span id="local-6989586621679261390"><span class="annot"><a href="Plutarch.Internal.html#plam%27"><span class="hs-identifier hs-type">plam'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261390"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261390"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261388"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261390"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679261389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261388"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-187"></span><span id="plam%27"><span class="annot"><span class="annottext">plam' :: forall (s :: S) (a :: PType) (b :: PType).
(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
</span><a href="Plutarch.Internal.html#plam%27"><span class="hs-identifier hs-var hs-var">plam'</span></a></span></span><span> </span><span id="local-6989586621679260685"><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260685"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260684"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260684"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679260683"><span class="annot"><span class="annottext">v :: Term s a
</span><a href="#local-6989586621679260683"><span class="hs-identifier hs-var hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260682"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260682"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-var">RVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260682"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260684"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">((TermResult -&gt; TermResult)
 -&gt; TermMonad TermResult -&gt; TermMonad TermResult)
-&gt; TermMonad TermResult
-&gt; (TermResult -&gt; TermResult)
-&gt; TermMonad TermResult
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult)
-&gt; TermMonad TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260685"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260683"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260684"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-comment">-- eta-reduce for arity 1</span><span>
</span><span id="line-191"></span><span>        </span><span id="local-6989586621679260680"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679260680"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679260679"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679260679"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260678"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260680"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">getTerm :: RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260679"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-comment">-- eta-reduce for arity 2 + n</span><span>
</span><span id="line-193"></span><span>        </span><span id="local-6989586621679260677"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679260677"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679260676"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260676"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679260675"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679260675"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260678"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679260674"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260674"><span class="hs-identifier hs-var">n'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260673"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260673"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; ([Word64] -&gt; Bool) -&gt; Maybe [Word64] -&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Word64] -&gt; [Word64] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260676"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe [Word64] -&gt; Bool) -&gt; Maybe [Word64] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Maybe Word64) -&gt; [RawTerm] -&gt; Maybe [Word64]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679260670"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260670"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260670"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260673"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>              </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260674"><span class="hs-identifier hs-var">n'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260676"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-196"></span><span>              </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260677"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">getTerm :: RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260675"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-comment">-- increment arity</span><span>
</span><span id="line-198"></span><span>        </span><span id="local-6989586621679260668"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679260668"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679260667"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260667"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679260666"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260666"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260668"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">getTerm :: RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-var">RLamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260667"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260666"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-199"></span><span>        </span><span class="hs-comment">-- new lambda</span><span>
</span><span id="line-200"></span><span>        </span><span id="local-6989586621679260665"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260665"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-var">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260665"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-comment">-- 0 is 1</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><a href="#local-6989586621679260678"><span class="hs-identifier hs-type">getArity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-comment">-- We only do this if it's hoisted, since it's only safe if it doesn't</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-comment">-- refer to any of the variables in the wrapping lambda.</span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679260678"><span class="annot"><span class="annottext">getArity :: RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260678"><span class="hs-identifier hs-var hs-var">getArity</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679260664"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260664"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260664"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><a href="#local-6989586621679260678"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679260663"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260663"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260663"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="annot"><a href="#local-6989586621679260678"><span class="hs-identifier hs-var">getArity</span></a></span><span> </span><span id="local-6989586621679260661"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260661"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260661"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-type">getArityBuiltin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621679260662"><span class="annot"><span class="annottext">getArityBuiltin :: RawTerm -&gt; Maybe Word64
</span><a href="#local-6989586621679260662"><span class="hs-identifier hs-var hs-var">getArityBuiltin</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.AddInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.SubtractInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MultiplyInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.DivideInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.QuotientInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.RemainderInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ModInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.EqualsInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.LessThanInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-220"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.LessThanEqualsInteger</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.AppendByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ConsByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.SliceByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.LengthOfByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.IndexByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.EqualsByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-227"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.LessThanByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.LessThanEqualsByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.Sha2_256</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.Sha3_256</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-231"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.Blake2b_256</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.VerifyEd25519Signature</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.VerifyEcdsaSecp256k1Signature</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.VerifySchnorrSecp256k1Signature</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.AppendString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.EqualsString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.EncodeUtf8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.DecodeUtf8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.IfThenElse</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ChooseUnit</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.Trace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.FstPair</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.SndPair</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ChooseList</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">2</span></span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MkCons</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.HeadList</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.TailList</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.NullList</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ChooseData</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">5</span></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ConstrData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MapData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.ListData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.IData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.BData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.UnConstrData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.UnMapData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.UnListData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.UnIData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.UnBData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.EqualsData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MkPairData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MkNilData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.MkNilPairData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><a href="#local-6989586621679260662"><span class="hs-identifier hs-var">getArityBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word64
forall a. Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">{- |
  Let bindings.

  This is appoximately a shorthand for a lambda and application:

  @plet v f@ == @ papp (plam f) v@

  But sufficiently small terms in WHNF may be inlined for efficiency.
-}</span><span>
</span><span id="line-275"></span><span id="local-6989586621679261371"><span id="local-6989586621679261372"><span id="local-6989586621679261373"><span class="annot"><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-type">plet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261373"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261372"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261373"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261372"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261373"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261371"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261373"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261371"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-276"></span><span id="plet"><span class="annot"><span class="annottext">plet :: forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var hs-var">plet</span></a></span></span><span> </span><span id="local-6989586621679260604"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679260603"><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260603"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260602"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult
-&gt; (TermResult -&gt; TermMonad TermResult) -&gt; TermMonad TermResult
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-comment">-- Inline sufficiently small terms in WHNF</span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260603"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#papp"><span class="hs-identifier hs-var">papp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
(Term s a -&gt; Term s b) -&gt; Term s (a :--&gt; b)
</span><a href="Plutarch.Internal.html#plam%27"><span class="hs-identifier hs-var">plam'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Term s b
</span><a href="#local-6989586621679260603"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260604"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260602"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span id="local-6989586621679261363"><span class="annot"><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-type">pthrow'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261363"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-285"></span><span id="pthrow%27"><span class="annot"><span class="annottext">pthrow' :: forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-var hs-var">pthrow'</span></a></span></span><span> </span><span id="local-6989586621679260591"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679260591"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) a -&gt; TermMonad a
forall m. ReaderT Config (Either Text) m -&gt; TermMonad m
</span><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT Config (Either Text) a -&gt; TermMonad a)
-&gt; ReaderT Config (Either Text) a -&gt; TermMonad a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a
forall r (m :: Type -&gt; Type) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a)
-&gt; (Config -&gt; Either Text a) -&gt; ReaderT Config (Either Text) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Either Text a -&gt; Config -&gt; Either Text a
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Text a -&gt; Config -&gt; Either Text a)
-&gt; Either Text a -&gt; Config -&gt; Either Text a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Either Text a
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CallStack -&gt; String
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">prettyCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">CallStack
HasCallStack =&gt; CallStack
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">callStack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;\n\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679260591"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621679261351"><span id="local-6989586621679261352"><span class="annot"><a href="Plutarch.Internal.html#pthrow"><span class="hs-identifier hs-type">pthrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261352"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261351"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-288"></span><span id="pthrow"><span class="annot"><span class="annottext">pthrow :: forall (s :: S) (a :: PType). HasCallStack =&gt; Text -&gt; Term s a
</span><a href="Plutarch.Internal.html#pthrow"><span class="hs-identifier hs-var hs-var">pthrow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="annot"><span class="annottext">((Word64 -&gt; TermMonad TermResult) -&gt; Term s a)
-&gt; (Text -&gt; Word64 -&gt; TermMonad TermResult) -&gt; Text -&gt; Term s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; Word64 -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; Word64 -&gt; TermMonad TermResult)
-&gt; (Text -&gt; TermMonad TermResult)
-&gt; Text
-&gt; Word64
-&gt; TermMonad TermResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-comment">-- | Lambda Application.</span><span>
</span><span id="line-291"></span><span id="local-6989586621679261364"><span id="local-6989586621679261365"><span id="local-6989586621679261366"><span class="annot"><a href="Plutarch.Internal.html#papp"><span class="hs-identifier hs-type">papp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679261365"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261364"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261365"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261366"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261364"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-292"></span><span id="papp"><span class="annot"><span class="annottext">papp :: forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#papp"><span class="hs-identifier hs-var hs-var">papp</span></a></span></span><span> </span><span id="local-6989586621679260559"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679260559"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679260558"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260558"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260557"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260557"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult -&gt; (TermResult, TermResult))
-&gt; TermMonad TermResult
-&gt; TermMonad (TermResult -&gt; (TermResult, TermResult))
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679260559"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260557"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermMonad (TermResult -&gt; (TermResult, TermResult))
-&gt; TermMonad TermResult -&gt; TermMonad (TermResult, TermResult)
forall (f :: Type -&gt; Type) a b.
Applicative f =&gt;
f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260558"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260557"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TermMonad (TermResult, TermResult)
-&gt; ((TermResult, TermResult) -&gt; TermMonad TermResult)
-&gt; TermMonad TermResult
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-comment">-- Applying anything to an error is an error.</span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;application to an error&quot;</span></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">-- Applying an error to anything is an error.</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;application with an error&quot;</span></span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-comment">-- Applying to `id` changes nothing.</span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260555"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260555"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260555"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260554"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260554"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260554"><span class="hs-identifier hs-var">y'</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-comment">-- append argument</span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679260553"><span class="annot"><span class="annottext">x' :: TermResult
</span><a href="#local-6989586621679260553"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679260552"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260552"><span class="hs-identifier hs-var">x'l</span></a></span></span><span> </span><span id="local-6989586621679260551"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260551"><span class="hs-identifier hs-var">x'r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260550"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260550"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260552"><span class="hs-identifier hs-var">x'l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260550"><span class="hs-identifier hs-var">y'</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; [RawTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260551"><span class="hs-identifier hs-var">x'r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260553"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260550"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-comment">-- new RApply</span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679260549"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260549"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260548"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260548"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; [RawTerm] -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-var">RApply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260549"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260548"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260549"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260548"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">{- |
  Plutus \'delay\', used for laziness.
-}</span><span>
</span><span id="line-309"></span><span id="local-6989586621679261338"><span id="local-6989586621679261339"><span class="annot"><a href="Plutarch.Internal.html#pdelay"><span class="hs-identifier hs-type">pdelay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261339"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261339"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#PDelayed"><span class="hs-identifier hs-type">PDelayed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261338"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-310"></span><span id="pdelay"><span class="annot"><span class="annottext">pdelay :: forall (s :: S) (a :: PType). Term s a -&gt; Term s (PDelayed a)
</span><a href="Plutarch.Internal.html#pdelay"><span class="hs-identifier hs-var hs-var">pdelay</span></a></span></span><span> </span><span id="local-6989586621679260546"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260546"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s (PDelayed a)
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260545"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260545"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RDelay"><span class="hs-identifier hs-var">RDelay</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermResult)
-&gt; TermMonad TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679260546"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260545"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="hs-comment">{- |
  Plutus \'force\',
  used to force evaluation of 'PDelayed' terms.
-}</span><span>
</span><span id="line-316"></span><span id="local-6989586621679261333"><span id="local-6989586621679261334"><span class="annot"><a href="Plutarch.Internal.html#pforce"><span class="hs-identifier hs-type">pforce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261334"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#PDelayed"><span class="hs-identifier hs-type">PDelayed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261333"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261334"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261333"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-317"></span><span id="pforce"><span class="annot"><span class="annottext">pforce :: forall (s :: S) (a :: PType). Term s (PDelayed a) -&gt; Term s a
</span><a href="Plutarch.Internal.html#pforce"><span class="hs-identifier hs-var hs-var">pforce</span></a></span></span><span> </span><span id="local-6989586621679260543"><span class="annot"><span class="annottext">Term s (PDelayed a)
</span><a href="#local-6989586621679260543"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260542"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260542"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="annottext">Term s (PDelayed a) -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PDelayed a)
</span><a href="#local-6989586621679260543"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260542"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult
-&gt; (TermResult -&gt; TermResult) -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-comment">-- A force cancels a delay</span><span>
</span><span id="line-320"></span><span>    </span><span id="local-6989586621679260541"><span class="annot"><span class="annottext">t :: TermResult
</span><a href="#local-6989586621679260541"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679260540"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260540"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260541"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">getTerm :: RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260540"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-321"></span><span>    </span><span id="local-6989586621679260539"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260539"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; RawTerm) -&gt; TermResult -&gt; TermResult
</span><a href="Plutarch.Internal.html#mapTerm"><span class="hs-identifier hs-var">mapTerm</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-var">RForce</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260539"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-comment">{- |
  Plutus \'error\'.

  When using this explicitly, it should be ensured that
  the containing term is delayed, avoiding premature evaluation.
-}</span><span>
</span><span id="line-329"></span><span id="local-6989586621679261326"><span id="local-6989586621679261327"><span class="annot"><a href="Plutarch.Internal.html#perror"><span class="hs-identifier hs-type">perror</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261327"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261326"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-330"></span><span id="perror"><span class="annot"><span class="annottext">perror :: forall (s :: S) (a :: PType). Term s a
</span><a href="Plutarch.Internal.html#perror"><span class="hs-identifier hs-var hs-var">perror</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span id="local-6989586621679261322"><span id="local-6989586621679261323"><span class="annot"><a href="Plutarch.Internal.html#pgetConfig"><span class="hs-identifier hs-type">pgetConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261322"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261322"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-333"></span><span id="pgetConfig"><span class="annot"><span class="annottext">pgetConfig :: forall (s :: S) (a :: PType). (Config -&gt; Term s a) -&gt; Term s a
</span><a href="Plutarch.Internal.html#pgetConfig"><span class="hs-identifier hs-var hs-var">pgetConfig</span></a></span></span><span> </span><span id="local-6989586621679260533"><span class="annot"><span class="annottext">Config -&gt; Term s a
</span><a href="#local-6989586621679260533"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679260532"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260532"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall m. ReaderT Config (Either Text) m -&gt; TermMonad m
</span><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-var">TermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult)
-&gt; ReaderT Config (Either Text) TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-334"></span><span>  </span><span id="local-6989586621679260531"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260531"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) Config
forall r (m :: Type -&gt; Type). MonadReader r m =&gt; m r
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.html#runTermMonad"><span class="hs-identifier hs-var">runTermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult)
-&gt; TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Config -&gt; Term s a
</span><a href="#local-6989586621679260533"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260531"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260532"><span class="hs-identifier hs-var">lvl</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-comment">{- |
  Unsafely coerce the type-tag of a Term.

  This should mostly be avoided, though it can be safely
  used to assert known types of Datums, Redeemers or ScriptContext.
-}</span><span>
</span><span id="line-343"></span><span id="local-6989586621679261312"><span id="local-6989586621679261313"><span id="local-6989586621679261314"><span class="annot"><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-type">punsafeCoerce</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261313"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261314"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261312"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-344"></span><span id="punsafeCoerce"><span class="annot"><span class="annottext">punsafeCoerce :: forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var hs-var">punsafeCoerce</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span id="local-6989586621679260530"><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679260530"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s b
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; TermMonad TermResult
</span><a href="#local-6989586621679260530"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span id="local-6989586621679261307"><span id="local-6989586621679261308"><span class="annot"><a href="Plutarch.Internal.html#punsafeBuiltin"><span class="hs-identifier hs-type">punsafeBuiltin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261308"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261307"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-347"></span><span id="punsafeBuiltin"><span class="annot"><span class="annottext">punsafeBuiltin :: forall (s :: S) (a :: PType). DefaultFun -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeBuiltin"><span class="hs-identifier hs-var hs-var">punsafeBuiltin</span></a></span></span><span> </span><span id="local-6989586621679260528"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260528"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-var">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260528"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">punsafeConstant</span><span> </span><span class="hs-pragma">&quot;Use `pconstant` instead.&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-350"></span><span id="local-6989586621679261303"><span id="local-6989586621679261304"><span class="annot"><a href="Plutarch.Internal.html#punsafeConstant"><span class="hs-identifier hs-type">punsafeConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PLC.DefaultUni</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261304"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261303"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-351"></span><span id="punsafeConstant"><span class="annot"><span class="annottext">punsafeConstant :: forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeConstant"><span class="hs-identifier hs-var hs-var">punsafeConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; Term s a
forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier hs-var">punsafeConstantInternal</span></a></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span id="local-6989586621679260526"><span id="local-6989586621679260527"><span class="annot"><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier hs-type">punsafeConstantInternal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PLC.DefaultUni</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260527"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679260526"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-354"></span><span id="punsafeConstantInternal"><span class="annot"><span class="annottext">punsafeConstantInternal :: forall (s :: S) (a :: PType).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier hs-var hs-var">punsafeConstantInternal</span></a></span></span><span> </span><span id="local-6989586621679260524"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-355"></span><span>  </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-comment">-- These constants are smaller than variable references.</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.DefaultUniBool</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.DefaultUniUnit</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><a href="../file:///nix/store/12m626qdhg61qnq44614xjh4avrzhzw4-some-lib-some-1.0.3-haddock-doc/share/doc/some/html/src"><span class="hs-identifier hs-type">Some</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultUni (Esc @Type a)
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.DefaultUniInteger</span></a></span><span> </span><span id="local-6989586621679260511"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679260511"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679260511"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">256</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; TermResult
</span><a href="Plutarch.Internal.html#mkTermRes"><span class="hs-identifier hs-var">mkTermRes</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; TermResult) -&gt; RawTerm -&gt; TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-361"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679260509"><span class="annot"><span class="annottext">hoisted :: HoistedTerm
</span><a href="#local-6989586621679260509"><span class="hs-identifier hs-var hs-var">hoisted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; RawTerm -&gt; HoistedTerm
</span><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; RawTerm -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-var">RConstant</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260524"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260509"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260509"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span id="local-6989586621679261294"><span class="annot"><a href="Plutarch.Internal.html#asClosedRawTerm"><span class="hs-identifier hs-type">asClosedRawTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261294"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span></span><span>
</span><span id="line-365"></span><span id="asClosedRawTerm"><span class="annot"><span class="annottext">asClosedRawTerm :: forall (a :: PType). ClosedTerm a -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asClosedRawTerm"><span class="hs-identifier hs-var hs-var">asClosedRawTerm</span></a></span></span><span> </span><span id="local-6989586621679260507"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679260507"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679260507"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- FIXME: Give proper error message when mutually recursive.</span><span>
</span><span id="line-368"></span><span id="local-6989586621679261290"><span id="local-6989586621679261291"><span class="annot"><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-type">phoistAcyclic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261291"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261290"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261291"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-369"></span><span id="phoistAcyclic"><span class="annot"><span class="annottext">phoistAcyclic :: forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var hs-var">phoistAcyclic</span></a></span></span><span> </span><span id="local-6989586621679260430"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679260430"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
forall (s :: S) (a :: PType).
(Word64 -&gt; TermMonad TermResult) -&gt; Term s a
</span><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-var">Term</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679260430"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">TermMonad TermResult
-&gt; (TermResult -&gt; TermMonad TermResult) -&gt; TermMonad TermResult
forall (m :: Type -&gt; Type) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-comment">-- Built-ins are smaller than variable references</span><span>
</span><span id="line-372"></span><span>    </span><span id="local-6989586621679260429"><span class="annot"><span class="annottext">t' :: TermResult
</span><a href="#local-6989586621679260429"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260429"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621679260428"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260428"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Script -&gt; (Either EvalError Script, ExBudget, [Text])
</span><a href="Plutarch.Evaluate.html#evalScript"><span class="hs-identifier hs-var">evalScript</span></a></span><span> </span><span class="annot"><span class="annottext">(Script -&gt; (Either EvalError Script, ExBudget, [Text]))
-&gt; (UTerm -&gt; Script)
-&gt; UTerm
-&gt; (Either EvalError Script, ExBudget, [Text])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Program DeBruijn DefaultUni DefaultFun () -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Script</span></a></span><span> </span><span class="annot"><span class="annottext">(Program DeBruijn DefaultUni DefaultFun () -&gt; Script)
-&gt; (UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; UTerm
-&gt; Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">()
-&gt; Version () -&gt; UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Version ann -&gt; Term name uni fun ann -&gt; Program name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Program</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Version ()
forall ann. ann -&gt; Version ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PLC.defaultVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; (Either EvalError Script, ExBudget, [Text]))
-&gt; UTerm -&gt; (Either EvalError Script, ExBudget, [Text])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260428"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-374"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Text]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-375"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679260425"><span class="annot"><span class="annottext">hoisted :: HoistedTerm
</span><a href="#local-6989586621679260425"><span class="hs-identifier hs-var hs-var">hoisted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; RawTerm -&gt; HoistedTerm
</span><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-var">HoistedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; (TermResult -&gt; RawTerm) -&gt; TermResult -&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Dig) -&gt; TermResult -&gt; Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260428"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260428"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; TermMonad TermResult
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; TermMonad TermResult)
-&gt; TermResult -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; [HoistedTerm] -&gt; TermResult
</span><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-var">TermResult</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm -&gt; RawTerm
</span><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-var">RHoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260425"><span class="hs-identifier hs-var">hoisted</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260425"><span class="hs-identifier hs-var">hoisted</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260428"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679260424"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679260424"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Text]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TermMonad TermResult
forall a. HasCallStack =&gt; Text -&gt; TermMonad a
</span><a href="Plutarch.Internal.html#pthrow%27"><span class="hs-identifier hs-var">pthrow'</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TermMonad TermResult) -&gt; Text -&gt; TermMonad TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Hoisted term errs! &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EvalError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679260424"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-comment">-- Couldn't find a definition for this in plutus-core</span><span>
</span><span id="line-380"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-type">subst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-381"></span><span id="subst"><span class="annot"><span class="annottext">subst :: Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var hs-var">subst</span></a></span></span><span> </span><span id="local-6989586621679260421"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260421"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679260420"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260420"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260418"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260418"><span class="hs-identifier hs-var">yx</span></a></span></span><span> </span><span id="local-6989586621679260417"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260417"><span class="hs-identifier hs-var">yy</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260421"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260420"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260418"><span class="hs-identifier hs-var">yx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260421"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260420"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260417"><span class="hs-identifier hs-var">yy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260416"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260416"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679260415"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260415"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.LamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260413"><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679260413"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679260412"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260412"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.LamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><a href="#local-6989586621679260413"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260416"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260415"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260412"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260411"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260411"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679260410"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260410"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Delay</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260408"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260408"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Delay</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260411"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260410"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260408"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260407"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260407"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679260406"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260406"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Force</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260404"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260404"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Force</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260407"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260406"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260404"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260403"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260403"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621679260402"><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260402"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span id="local-6989586621679260400"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260400"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260403"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260400"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><a href="#local-6989586621679260402"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260403"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-386"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260399"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260399"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679260398"><span class="annot"><span class="annottext">y :: UTerm
</span><a href="#local-6989586621679260398"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span id="local-6989586621679260397"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260397"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260399"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260397"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260398"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-387"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span id="local-6989586621679260395"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260395"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span id="local-6989586621679260394"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260394"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260395"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260394"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260394"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span class="annot"><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679260393"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260393"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260393"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-type">rawTermToUPLC</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Term</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-394"></span><span>  </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Term</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultUni</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.DefaultFun</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span id="rawTermToUPLC"><span class="annot"><span class="annottext">rawTermToUPLC :: (HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var hs-var">rawTermToUPLC</span></a></span></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RVar"><span class="hs-identifier hs-type">RVar</span></a></span><span> </span><span id="local-6989586621679260391"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260391"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260391"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Why the fuck does it start from 1 and not 0?</span><span>
</span><span id="line-396"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679260390"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260390"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679260389"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260389"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RLamAbs"><span class="hs-identifier hs-type">RLamAbs</span></a></span><span> </span><span id="local-6989586621679260388"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260388"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679260387"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260387"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><span class="annottext">((UTerm -&gt; UTerm) -&gt; (UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm)
-&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm] -&gt; UTerm -&gt; UTerm
forall (t :: Type -&gt; Type) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span>
</span><span id="line-398"></span><span>    </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; (UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">(.)</span></a></span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><span class="annottext">UTerm -&gt; UTerm
forall a. a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Int) -&gt; Word64 -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260388"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm])
-&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.LamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260390"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260389"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260388"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260387"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679260383"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260383"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679260382"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260382"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RApply"><span class="hs-identifier hs-type">RApply</span></a></span><span> </span><span id="local-6989586621679260381"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260381"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679260380"><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260380"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679260379"><span class="annot"><span class="annottext">f :: RawTerm -&gt; UTerm -&gt; UTerm
</span><a href="#local-6989586621679260379"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679260378"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260378"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679260377"><span class="annot"><span class="annottext">t :: UTerm
</span><a href="#local-6989586621679260377"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.LamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679260376"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260376"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260383"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260382"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260378"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-405"></span><span>          </span><span class="hs-comment">-- Inline unconditionally if it's a variable or built-in.</span><span>
</span><span id="line-406"></span><span>          </span><span class="hs-comment">-- These terms are very small and are always WHNF.</span><span>
</span><span id="line-407"></span><span>          </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span id="local-6989586621679260375"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260375"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679260374"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260374"><span class="hs-identifier hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260375"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260374"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260376"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-408"></span><span>          </span><span id="local-6989586621679260373"><span class="annot"><span class="annottext">arg :: UTerm
</span><a href="#local-6989586621679260373"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">UPLC.Builtin</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; (Word64 -&gt; UTerm) -&gt; UTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260373"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260376"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-409"></span><span>          </span><span id="local-6989586621679260371"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260371"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260377"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260371"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-410"></span><span>      </span><span class="annot"><a href="#local-6989586621679260379"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621679260370"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260370"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679260369"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260369"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260369"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260383"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260382"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260370"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">((UTerm -&gt; UTerm) -&gt; (UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm)
-&gt; (UTerm -&gt; UTerm) -&gt; [UTerm -&gt; UTerm] -&gt; UTerm -&gt; UTerm
forall (t :: Type -&gt; Type) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; (UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">(.)</span></a></span><span> </span><span class="annot"><span class="annottext">UTerm -&gt; UTerm
forall a. a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RawTerm -&gt; UTerm -&gt; UTerm
</span><a href="#local-6989586621679260379"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; UTerm -&gt; UTerm) -&gt; [RawTerm] -&gt; [UTerm -&gt; UTerm]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[RawTerm]
</span><a href="#local-6989586621679260380"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; UTerm) -&gt; UTerm -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260383"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260382"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260381"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679260368"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260368"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679260367"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260367"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RDelay"><span class="hs-identifier hs-type">RDelay</span></a></span><span> </span><span id="local-6989586621679260366"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260366"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Delay</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260368"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260367"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260366"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679260365"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260365"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679260364"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260364"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RForce"><span class="hs-identifier hs-type">RForce</span></a></span><span> </span><span id="local-6989586621679260363"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260363"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Force</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260365"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260364"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260363"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RBuiltin"><span class="hs-identifier hs-type">RBuiltin</span></a></span><span> </span><span id="local-6989586621679260362"><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260362"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; DefaultFun -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; fun -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Builtin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><a href="#local-6989586621679260362"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-415"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RConstant"><span class="hs-identifier hs-type">RConstant</span></a></span><span> </span><span id="local-6989586621679260361"><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260361"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Some @Type (ValueOf DefaultUni) -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Some @Type (ValueOf uni) -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni)
</span><a href="#local-6989586621679260361"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-416"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RCompiled"><span class="hs-identifier hs-type">RCompiled</span></a></span><span> </span><span id="local-6989586621679260359"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260359"><span class="hs-identifier hs-var">code</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260359"><span class="hs-identifier hs-var">code</span></a></span><span>
</span><span id="line-417"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="Plutarch.Internal.html#RError"><span class="hs-identifier hs-var">RError</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- rawTermToUPLC m l (RHoisted hoisted) = UPLC.Var () . DeBruijn . Index $ l - m hoisted</span><span>
</span><span id="line-419"></span><span class="annot"><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span id="local-6989586621679260357"><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260357"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679260356"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260356"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#RHoisted"><span class="hs-identifier hs-type">RHoisted</span></a></span><span> </span><span id="local-6989586621679260355"><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260355"><span class="hs-identifier hs-var">hoisted</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260357"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
</span><a href="#local-6989586621679260355"><span class="hs-identifier hs-var">hoisted</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260356"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-comment">-- UPLC.Var () . DeBruijn . Index $ l - m hoisted</span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-comment">-- The logic is mostly for hoisting</span><span>
</span><span id="line-422"></span><span class="annot"><a href="Plutarch.Internal.html#compile%27"><span class="hs-identifier hs-type">compile'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#TermResult"><span class="hs-identifier hs-type">TermResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#UTerm"><span class="hs-identifier hs-type">UTerm</span></a></span><span>
</span><span id="line-423"></span><span id="compile%27"><span class="annot"><span class="annottext">compile' :: TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.html#compile%27"><span class="hs-identifier hs-var hs-var">compile'</span></a></span></span><span> </span><span id="local-6989586621679260354"><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260354"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679260353"><span class="annot"><span class="annottext">t' :: RawTerm
</span><a href="#local-6989586621679260353"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260354"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-425"></span><span>      </span><span id="local-6989586621679260352"><span class="annot"><span class="annottext">deps :: [HoistedTerm]
</span><a href="#local-6989586621679260352"><span class="hs-identifier hs-var hs-var">deps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; [HoistedTerm]
</span><a href="Plutarch.Internal.html#getDeps"><span class="hs-identifier hs-var">getDeps</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult
</span><a href="#local-6989586621679260354"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span>      </span><span class="annot"><a href="#local-6989586621679260351"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>      </span><span id="local-6989586621679260351"><span class="annot"><span class="annottext">f :: Word64 -&gt; Maybe Word64 -&gt; (Bool, Maybe Word64)
</span><a href="#local-6989586621679260351"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679260350"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260350"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Word64
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260350"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>      </span><span class="annot"><a href="#local-6989586621679260351"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679260349"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260349"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span>      </span><span class="annot"><a href="#local-6989586621679260348"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-432"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-433"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-434"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#RawTerm"><span class="hs-identifier hs-type">RawTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>      </span><span id="local-6989586621679260348"><span class="annot"><span class="annottext">g :: HoistedTerm
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
</span><a href="#local-6989586621679260348"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260347"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260347"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679260346"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260346"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260345"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260345"><span class="hs-identifier hs-var">map</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260344"><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679260344"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260343"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260343"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Maybe Word64 -&gt; (Bool, Maybe Word64))
-&gt; Dig -&gt; Map Dig Word64 -&gt; (Bool, Map Dig Word64)
forall (f :: Type -&gt; Type) k a.
(Functor f, Ord k) =&gt;
(Maybe a -&gt; f (Maybe a)) -&gt; k -&gt; Map k a -&gt; f (Map k a)
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">M.alterF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Maybe Word64 -&gt; (Bool, Maybe Word64)
</span><a href="#local-6989586621679260351"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260343"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260347"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260345"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-436"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260341"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260341"><span class="hs-identifier hs-var">map</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260341"><span class="hs-identifier hs-var">map</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260343"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260346"><span class="hs-identifier hs-var">term</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Word64, RawTerm) -&gt; [(Word64, RawTerm)] -&gt; [(Word64, RawTerm)]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679260344"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260343"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260340"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260340"><span class="hs-identifier hs-var">map</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260340"><span class="hs-identifier hs-var">map</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679260344"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260343"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span>      </span><span class="annot"><a href="#local-6989586621679260339"><span class="hs-identifier hs-type">toInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span><span>
</span><span id="line-440"></span><span>      </span><span id="local-6989586621679260339"><span class="annot"><span class="annottext">toInline :: Set Dig
</span><a href="#local-6989586621679260339"><span class="hs-identifier hs-var hs-var">toInline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>        </span><span class="annot"><span class="annottext">[Dig] -&gt; Set Dig
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">S.fromList</span></a></span><span>
</span><span id="line-442"></span><span>          </span><span class="annot"><span class="annottext">([Dig] -&gt; Set Dig)
-&gt; ([HoistedTerm] -&gt; [Dig]) -&gt; [HoistedTerm] -&gt; Set Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Dig) -&gt; [HoistedTerm] -&gt; [Dig]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260337"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260337"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260337"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; [Dig])
-&gt; ([HoistedTerm] -&gt; [HoistedTerm]) -&gt; [HoistedTerm] -&gt; [Dig]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; HoistedTerm
forall a. [a] -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="hs-operator">&lt;$&gt;</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>          </span><span class="annot"><span class="annottext">([[HoistedTerm]] -&gt; [HoistedTerm])
-&gt; ([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; [HoistedTerm]
-&gt; [HoistedTerm]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; Bool) -&gt; [[HoistedTerm]] -&gt; [[HoistedTerm]]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; ([HoistedTerm] -&gt; Int) -&gt; [HoistedTerm] -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm] -&gt; Int
forall (t :: Type -&gt; Type) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">length</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>          </span><span class="annot"><span class="annottext">([[HoistedTerm]] -&gt; [[HoistedTerm]])
-&gt; ([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; [HoistedTerm]
-&gt; [[HoistedTerm]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; HoistedTerm -&gt; Bool)
-&gt; [HoistedTerm] -&gt; [[HoistedTerm]]
forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [[a]]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">groupBy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260334"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260334"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260333"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260333"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260334"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Dig -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260333"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; [[HoistedTerm]])
-&gt; ([HoistedTerm] -&gt; [HoistedTerm])
-&gt; [HoistedTerm]
-&gt; [[HoistedTerm]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Dig) -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">sortOn</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260332"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260332"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260332"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>          </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; Set Dig) -&gt; [HoistedTerm] -&gt; Set Dig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679260352"><span class="hs-identifier hs-var">deps</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span>      </span><span class="hs-comment">-- map: term -&gt; de Bruijn level</span><span>
</span><span id="line-450"></span><span>      </span><span class="hs-comment">-- defs: the terms, level 0 is last</span><span>
</span><span id="line-451"></span><span>      </span><span class="hs-comment">-- n: # of terms</span><span>
</span><span id="line-452"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679260331"><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260331"><span class="hs-identifier hs-var">map</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260330"><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679260330"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260329"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260329"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm
 -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
 -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64))
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; [HoistedTerm]
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
forall (t :: Type -&gt; Type) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
-&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
</span><a href="#local-6989586621679260348"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Dig Word64
forall k a. Map k a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">M.empty</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([HoistedTerm] -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64))
-&gt; [HoistedTerm] -&gt; (Map Dig Word64, [(Word64, RawTerm)], Word64)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Bool) -&gt; [HoistedTerm] -&gt; [HoistedTerm]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260327"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260327"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Set Dig -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260327"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Set Dig
</span><a href="#local-6989586621679260339"><span class="hs-identifier hs-var">toInline</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HoistedTerm]
</span><a href="#local-6989586621679260352"><span class="hs-identifier hs-var">deps</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span>      </span><span id="local-6989586621679260324"><span class="annot"><span class="annottext">map' :: HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260324"><span class="hs-identifier hs-var hs-var">map'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#HoistedTerm"><span class="hs-identifier hs-type">HoistedTerm</span></a></span><span> </span><span id="local-6989586621679260323"><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260323"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span id="local-6989586621679260322"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260322"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679260321"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260321"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Dig -&gt; Map Dig Word64 -&gt; Maybe Word64
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Dig
</span><a href="#local-6989586621679260323"><span class="hs-identifier hs-var">hash</span></a></span><span> </span><span class="annot"><span class="annottext">Map Dig Word64
</span><a href="#local-6989586621679260331"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-455"></span><span>        </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679260319"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260319"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Var</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DeBruijn -&gt; UTerm) -&gt; (Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; UTerm
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; UTerm) -&gt; Word64 -&gt; UTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260321"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260319"><span class="hs-identifier hs-var">l'</span></a></span><span>
</span><span id="line-456"></span><span>        </span><span class="annot"><span class="annottext">Maybe Word64
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260324"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260321"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260322"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span>      </span><span id="local-6989586621679260318"><span class="annot"><span class="annottext">body :: UTerm
</span><a href="#local-6989586621679260318"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260324"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260329"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260353"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span>      </span><span id="local-6989586621679260317"><span class="annot"><span class="annottext">wrapped :: UTerm
</span><a href="#local-6989586621679260317"><span class="hs-identifier hs-var hs-var">wrapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-461"></span><span>        </span><span class="annot"><span class="annottext">(UTerm -&gt; (Word64, RawTerm) -&gt; UTerm)
-&gt; UTerm -&gt; [(Word64, RawTerm)] -&gt; UTerm
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-var">foldl'</span></a></span><span>
</span><span id="line-462"></span><span>          </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679260316"><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260316"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679260315"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260315"><span class="hs-identifier hs-var">lvl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679260314"><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260314"><span class="hs-identifier hs-var">def</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; UTerm -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Apply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; DeBruijn -&gt; UTerm -&gt; UTerm
forall name (uni :: Type -&gt; Type) fun ann.
ann -&gt; name -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.LamAbs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">(Index -&gt; DeBruijn) -&gt; (Word64 -&gt; Index) -&gt; Word64 -&gt; DeBruijn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; DeBruijn) -&gt; Word64 -&gt; DeBruijn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260316"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HoistedTerm -&gt; Word64 -&gt; UTerm) -&gt; Word64 -&gt; RawTerm -&gt; UTerm
</span><a href="Plutarch.Internal.html#rawTermToUPLC"><span class="hs-identifier hs-var">rawTermToUPLC</span></a></span><span> </span><span class="annot"><span class="annottext">HoistedTerm -&gt; Word64 -&gt; UTerm
</span><a href="#local-6989586621679260324"><span class="hs-identifier hs-var">map'</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679260315"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">RawTerm
</span><a href="#local-6989586621679260314"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>          </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260318"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-464"></span><span>          </span><span class="annot"><span class="annottext">[(Word64, RawTerm)]
</span><a href="#local-6989586621679260330"><span class="hs-identifier hs-var">defs</span></a></span><span>
</span><span id="line-465"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">UTerm
</span><a href="#local-6989586621679260317"><span class="hs-identifier hs-var">wrapped</span></a></span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="hs-comment">-- | Compile a (closed) Plutus Term to a usable script</span><span>
</span><span id="line-468"></span><span id="local-6989586621679261238"><span class="annot"><a href="Plutarch.Internal.html#compile"><span class="hs-identifier hs-type">compile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261238"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">Script</span></a></span></span><span>
</span><span id="line-469"></span><span id="compile"><span class="annot"><span class="annottext">compile :: forall (a :: PType). Config -&gt; ClosedTerm a -&gt; Either Text Script
</span><a href="Plutarch.Internal.html#compile"><span class="hs-identifier hs-var hs-var">compile</span></a></span></span><span> </span><span id="local-6989586621679260308"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260308"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679260307"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679260307"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClosedTerm a -&gt; TermMonad TermResult
forall (a :: PType). ClosedTerm a -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asClosedRawTerm"><span class="hs-identifier hs-var">asClosedRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679260307"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#TermMonad"><span class="hs-identifier hs-type">TermMonad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span id="local-6989586621679260306"><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679260306"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Program DeBruijn DefaultUni DefaultFun () -&gt; Script
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">Script</span></a></span><span> </span><span class="annot"><span class="annottext">(Program DeBruijn DefaultUni DefaultFun () -&gt; Script)
-&gt; (TermResult -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; TermResult
-&gt; Script
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">()
-&gt; Version () -&gt; UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ()
forall name (uni :: Type -&gt; Type) fun ann.
ann
-&gt; Version ann -&gt; Term name uni fun ann -&gt; Program name uni fun ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Program</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; Natural -&gt; Natural -&gt; Natural -&gt; Version ()
forall ann. ann -&gt; Natural -&gt; Natural -&gt; Natural -&gt; Version ann
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">UPLC.Version</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(UTerm -&gt; Program DeBruijn DefaultUni DefaultFun ())
-&gt; (TermResult -&gt; UTerm)
-&gt; TermResult
-&gt; Program DeBruijn DefaultUni DefaultFun ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; UTerm
</span><a href="Plutarch.Internal.html#compile%27"><span class="hs-identifier hs-var">compile'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Script)
-&gt; Either Text TermResult -&gt; Either Text Script
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Config -&gt; Either Text TermResult
</span><a href="#local-6989586621679260306"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260308"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span id="local-6989586621679261235"><span class="annot"><a href="Plutarch.Internal.html#hashTerm"><span class="hs-identifier hs-type">hashTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679261235"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/text-1.2.5.0/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Dig"><span class="hs-identifier hs-type">Dig</span></a></span></span><span>
</span><span id="line-473"></span><span id="hashTerm"><span class="annot"><span class="annottext">hashTerm :: forall (a :: PType). Config -&gt; ClosedTerm a -&gt; Either Text Dig
</span><a href="Plutarch.Internal.html#hashTerm"><span class="hs-identifier hs-var hs-var">hashTerm</span></a></span></span><span> </span><span id="local-6989586621679260302"><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260302"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679260301"><span class="annot"><span class="annottext">ClosedTerm a
</span><a href="#local-6989586621679260301"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawTerm -&gt; Dig
</span><a href="Plutarch.Internal.html#hashRawTerm"><span class="hs-identifier hs-var">hashRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(RawTerm -&gt; Dig) -&gt; (TermResult -&gt; RawTerm) -&gt; TermResult -&gt; Dig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TermResult -&gt; RawTerm
</span><a href="Plutarch.Internal.html#getTerm"><span class="hs-identifier hs-var">getTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(TermResult -&gt; Dig) -&gt; Either Text TermResult -&gt; Either Text Dig
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT Config (Either Text) TermResult
-&gt; Config -&gt; Either Text TermResult
forall r (m :: Type -&gt; Type) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall m. TermMonad m -&gt; ReaderT Config (Either Text) m
</span><a href="Plutarch.Internal.html#runTermMonad"><span class="hs-identifier hs-var">runTermMonad</span></a></span><span> </span><span class="annot"><span class="annottext">(TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult)
-&gt; TermMonad TermResult -&gt; ReaderT Config (Either Text) TermResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/r4n325d4bya4i1cviz6zrwmhm4j55yz4-ghc-9.2.3-doc/share/doc/ghc/html/libraries/base-4.16.2.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a -&gt; Word64 -&gt; TermMonad TermResult
forall (s :: S) (a :: PType).
Term s a -&gt; Word64 -&gt; TermMonad TermResult
</span><a href="Plutarch.Internal.html#asRawTerm"><span class="hs-identifier hs-var">asRawTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Term (Any @S) a
ClosedTerm a
</span><a href="#local-6989586621679260301"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Config
</span><a href="#local-6989586621679260302"><span class="hs-identifier hs-var">config</span></a></span><span>
</span><span id="line-474"></span></pre></body></html>